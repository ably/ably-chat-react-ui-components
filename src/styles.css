@import 'tailwindcss';

@theme {
  --plugin-prefix: 'ac-';
  --color-brand-600: oklch(62.5% 0.14 264);
  --color-chat-green: #25d366;
  --color-chat-light-green: #dcf8c6;
  --color-chat-blue: #34b7f1;
}

:root {
  /* Light mode colors (default) */
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f3f4f6;
  --color-text-primary: #000000;
  --color-text-secondary: #4b5563;
  --color-text-tertiary: #6b7280;
  --color-border-primary: #d1d5db;
  --color-border-secondary: #e5e7eb;
  --color-shadow: rgba(0, 0, 0, 0.1);
  --color-self-message-bg: var(--color-chat-light-green);
  --color-self-message-text: #000000;
  --color-other-message-bg: var(--color-bg-secondary);
  --color-other-message-text: var(--color-text-primary);
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Dark mode colors */
    --color-bg-primary: #1f2937;
    --color-bg-secondary: #111827;
    --color-text-primary: #f9fafb;
    --color-text-secondary: #e5e7eb;
    --color-text-tertiary: #d1d5db;
    --color-border-primary: #4b5563;
    --color-border-secondary: #374151;
    --color-shadow: rgba(0, 0, 0, 0.3);

    /* Dark mode message colors */
    --color-self-message-bg: #2d4a3e; /* Darker green for dark mode */
    --color-self-message-text: #e5e7eb;
    --color-other-message-bg: #374151; /* Darker gray for dark mode */
    --color-other-message-text: #f9fafb;
  }
}

@layer components {
  /* Button styles */
  .btn {
    @apply bg-brand-600 text-white font-bold py-2 px-4 rounded;
  }
  .btn-primary {
    @apply bg-brand-600 text-white;
  }
  .btn-secondary {
    @apply text-sm px-3 py-1 rounded;
    background-color: var(--color-bg-secondary);
    color: var(--color-text-primary);
  }
  .btn-secondary:hover {
    filter: brightness(0.95);
  }
  .btn-save {
    @apply w-full bg-chat-green text-white py-2 px-4 rounded transition-colors;
  }
  .btn-save:hover {
    opacity: 0.9;
  }

  /* Card styles */
  .card {
    @apply border p-4;
    background-color: var(--color-bg-primary);
    border-color: var(--color-border-primary);
    color: var(--color-text-primary);
  }

  /* Layout styles */
  .app-container {
    @apply flex flex-col md:flex-row h-full gap-4;
  }
  .sidebar {
    @apply w-full md:w-1/4 flex flex-col gap-4;
  }
  .main-content {
    @apply w-full md:w-3/4 flex flex-col;
  }

  /* Form styles */
  .form-label {
    @apply text-sm font-medium;
    color: var(--color-text-secondary);
  }
  .client-id-container {
    @apply flex items-center;
  }
  .client-id-label {
    @apply w-20;
  }
  .client-id-input {
    @apply border px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors;
    border-color: var(--color-border-primary);
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
  }
  .client-id-input:hover {
    border-color: var(--color-border-secondary);
  }
  .status-container {
    @apply flex items-baseline;
  }
  .status-label {
    @apply w-20;
  }
  .text-input-form {
    @apply flex items-center;
  }
  .text-input {
    @apply flex-1 p-2 border rounded outline-none;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    border-color: var(--color-border-primary);
  }
  .text-input-button {
    @apply bg-chat-green text-white px-4 ml-2 h-10 flex items-center justify-center rounded transition-colors;
  }
  .text-input-button:hover {
    opacity: 0.9;
  }
  .form-checkbox {
    @apply h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded;
  }
  .form-radio {
    @apply h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300;
  }
  .form-radio-group {
    @apply space-y-2;
  }
  .form-radio-item {
    @apply flex items-center;
  }
  .form-radio-label {
    @apply ml-2 text-sm font-medium;
    color: var(--color-text-secondary);
  }

  /* Chat styles */
  .chat-window {
    @apply flex flex-col w-full border-1 border-t-0 overflow-hidden font-sans max-h-full;
    border-color: var(--color-border-primary);
    background-color: var(--color-bg-primary);
  }
  .message-bubble {
    @apply px-4 py-2 rounded-lg block w-full whitespace-normal break-words;
  }
  .message-bubble-self {
    @apply rounded-br;
    background-color: var(--color-self-message-bg);
    color: var(--color-self-message-text);
  }
  .message-bubble-other {
    @apply rounded-bl shadow-sm;
    background-color: var(--color-other-message-bg);
    color: var(--color-other-message-text);
    box-shadow: 0 1px 2px var(--color-shadow);
  }
  .chat-message-container {
    @apply flex-1 p-4 overflow-y-auto space-y-2 max-h-[calc(100%-100px)] h-full min-h-[calc(100%-100px)];
  }
  .chat-message {
    position: relative;
  }
  .chat-message-wrapper-self {
    @apply flex items-end justify-end;
  }
  .chat-message-wrapper-other {
    @apply flex items-end justify-start;
  }
  .chat-message-content-self {
    @apply flex flex-col w-1/2 mx-2 relative items-end order-1;
  }
  .chat-message-content-other {
    @apply flex flex-col w-1/2 mx-2 relative items-start order-2;
  }
  .chat-message-meta {
    @apply text-xs;
    color: var(--color-text-tertiary);
  }
  .chat-message-time {
    position: relative;
  }
  .chat-message-time .time-short {
    display: inline;
  }
  .chat-message-time .time-full {
    display: none;
  }
  .chat-message-time:hover .time-short {
    display: none;
  }
  .chat-message-time:hover .time-full {
    display: inline;
  }
  .chat-message-buttons {
    display: none;
    gap: 0.25rem;
    margin-top: 0.25rem;
  }
  .chat-message:hover .chat-message-buttons {
    display: flex;
  }
  .chat-input-area {
    @apply border-t flex-shrink-0;
    border-color: var(--color-border-primary);
    background-color: var(--color-bg-secondary);
  }
  .chat-typing-indicator {
    @apply h-8 px-2 pt-1 pb-1;
  }
  .typing-indicator {
    @apply px-4 py-2 text-xs italic;
    color: var(--color-text-tertiary);
  }
  @media (prefers-color-scheme: dark) {
    .typing-indicator {
      color: white;
    }
  }
  .chat-input-wrapper {
    @apply px-2 mt-auto mb-2;
  }

  /* Icon styles */
  .icon-edit {
    @apply cursor-pointer m-1 inline-block;
    color: var(--color-text-tertiary);
  }
  .icon-edit:hover {
    color: var(--color-text-secondary);
  }
  .reaction-button {
    @apply text-sm inline-block cursor-pointer m-0 border-0 p-0;
    background-color: transparent;
    color: var(--color-text-primary);
  }
  .reaction-container {
    @apply flex space-x-2;
  }
  .reaction-list {
    @apply flex gap-2 px-2 py-3 border-t mx-auto;
    background-color: var(--color-bg-primary);
    border-color: var(--color-border-primary);
    color: var(--color-text-primary);
  }
  .reaction-list-container {
    @apply flex-1 flex items-center max-h-[24px] gap-1 overflow-x-auto whitespace-nowrap;
  }
  .reaction-list-container::-webkit-scrollbar {
    height: 4px;
  }
  .reaction-list-container::-webkit-scrollbar-thumb {
    background-color: var(--color-border-primary);
    border-radius: 2px;
  }
  .reaction-item {
    @apply px-2 py-1 rounded;
    background-color: var(--color-bg-secondary);
    color: var(--color-text-primary);
  }
  .icon-delete {
    @apply cursor-pointer m-1 inline-block;
    color: #ef4444; /* red-500, keeping this color consistent in both modes */
  }
  .icon-delete:hover {
    color: #b91c1c; /* red-700, keeping this color consistent in both modes */
  }

  /* Header styles */
  .header {
    @apply flex justify-between items-center mb-4;
  }
  .header-title {
    @apply text-lg font-semibold;
    color: var(--color-text-primary);
  }
  .header-actions {
    @apply flex gap-2;
  }
}
